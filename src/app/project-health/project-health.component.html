<div class="container" *ngIf="projectHealth">
    <div *ngIf="!isEditing">
      <h2>Overall Status</h2>
      <div [ngClass]="getStatusClass(projectHealth.overallStatus)">
        {{ projectHealth.overallStatus }}
      </div>
  
      <h2>Completion Percentage</h2>
      <div [ngClass]="getDaysRemainingClass(projectHealth.completionPercentage)">
        <span class="percentage">{{ projectHealth.completionPercentage }}%</span>
      </div>
  
      <h2>Countdown to Key Milestones</h2>
      <ul>
        <li *ngFor="let milestone of projectHealth.milestones">
          <div class="milestone-item">
            <strong>Milestone {{ milestone.number }}:</strong> {{ milestone.name }} |
            <strong>Date:</strong> {{ milestone.countdown | date }} |
            <span [ngClass]="getDaysRemainingClass(milestone.daysRemaining)">
              {{ milestone.daysRemaining }} days remaining
            </span>
          </div>
        </li>
      </ul>
  
      <h2>Challenges</h2>
      <ul>
        <li *ngFor="let challenge of projectHealth.challenges">
          <strong>Challenge:</strong> {{ challenge.description }} |
          <strong>Mitigation:</strong> {{ challenge.mitigation }}
        </li>
      </ul>
  
      <button (click)="enableEditing()">Update</button>
    </div>
  
    <div *ngIf="isEditing" class="editing">
      <h2>Overall Status</h2>
      <select [(ngModel)]="projectHealth.overallStatus">
        <option value="Green">Green</option>
        <option value="Yellow">Yellow</option>
        <option value="Red">Red</option>
      </select>
  
      <h2>Completion Percentage</h2>
      <input [(ngModel)]="projectHealth.completionPercentage" type="number" min="0" max="100" />
  
      <h2>Countdown to Key Milestones</h2>
      <ul>
        <li *ngFor="let milestone of projectHealth.milestones; let i = index">
          <div class="milestone-item">
            <strong>Milestone {{ milestone.number }}:</strong>
            <input [(ngModel)]="milestone.name" placeholder="Name" />
            <input [(ngModel)]="milestone.countdown" type="date" (change)="calculateDaysRemaining()" />
            <button class="remove-button" (click)="removeMilestone(i)">Remove</button>
          </div>
        </li>
      </ul>
      <button class="add-button" (click)="addMilestone()">Add Milestone</button>
  
      <h2>Challenges</h2>
      <ul>
        <li *ngFor="let challenge of projectHealth.challenges; let i = index">
          <strong>Challenge:</strong> <input [(ngModel)]="challenge.description" />
          <strong>Mitigation:</strong> <input [(ngModel)]="challenge.mitigation" />
          <button class="remove-button" (click)="removeChallenge(i)">Remove</button>
        </li>
      </ul>
      <button class="add-button" (click)="addChallenge()">Add Challenge</button>
  
      <div class="submit-container">
        <button (click)="submitChanges()">Submit</button>
      </div>
    </div>
  </div>
  